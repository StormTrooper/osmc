From ee64384da0e6fb0628166f785ead7e2e76aa0859 Mon Sep 17 00:00:00 2001
From: Kai Sommerfeld <kai.sommerfeld@gmx.com>
Date: Tue, 1 Oct 2019 22:15:16 +0200
Subject: [PATCH] [PVR] Rework PVR component source directory structure.

---
 cmake/treedata/common/pvr.txt                 | 20 ++++++----
 xbmc/Application.cpp                          |  2 +-
 xbmc/filesystem/PVRDirectory.cpp              |  2 +-
 xbmc/guilib/GUIControlFactory.cpp             |  2 +-
 xbmc/input/WindowTranslator.cpp               |  2 +-
 xbmc/interfaces/builtins/PVRBuiltins.cpp      |  2 +-
 xbmc/interfaces/json-rpc/PVROperations.cpp    |  2 +-
 xbmc/interfaces/json-rpc/PlayerOperations.cpp |  2 +-
 xbmc/pvr/CMakeLists.txt                       | 40 +++++--------------
 xbmc/pvr/PVRContextMenus.cpp                  |  2 +-
 xbmc/pvr/PVRManager.cpp                       |  8 ++--
 xbmc/pvr/PVRManager.h                         |  6 +--
 xbmc/pvr/PVRThumbLoader.cpp                   |  2 +-
 .../dialogs/GUIDialogPVRChannelManager.cpp    |  2 +-
 xbmc/pvr/dialogs/GUIDialogPVRChannelsOSD.cpp  |  2 +-
 xbmc/pvr/dialogs/GUIDialogPVRGroupManager.cpp |  2 +-
 xbmc/pvr/dialogs/GUIDialogPVRGuideInfo.cpp    |  2 +-
 .../pvr/dialogs/GUIDialogPVRItemsViewBase.cpp |  2 +-
 .../pvr/dialogs/GUIDialogPVRRecordingInfo.cpp |  2 +-
 xbmc/pvr/epg/EpgContainer.cpp                 |  2 +-
 xbmc/pvr/epg/EpgContainer.h                   |  2 +-
 xbmc/pvr/filesystem/CMakeLists.txt            |  5 +++
 xbmc/pvr/{ => filesystem}/PVRGUIDirectory.cpp |  0
 xbmc/pvr/{ => filesystem}/PVRGUIDirectory.h   |  0
 xbmc/pvr/guilib/CMakeLists.txt                | 17 ++++++++
 .../GUIEPGGridContainer.cpp                   |  2 +-
 .../GUIEPGGridContainer.dox                   |  0
 .../{windows => guilib}/GUIEPGGridContainer.h |  0
 .../GUIEPGGridContainerModel.cpp              |  0
 .../GUIEPGGridContainerModel.h                |  0
 .../PVRGUIActionListener.cpp}                 | 24 +++++------
 .../PVRGUIActionListener.h}                   | 10 ++---
 xbmc/pvr/{ => guilib}/PVRGUIActions.cpp       |  0
 xbmc/pvr/{ => guilib}/PVRGUIActions.h         |  4 +-
 .../{ => guilib}/PVRGUIChannelIconUpdater.cpp |  2 +-
 .../{ => guilib}/PVRGUIChannelIconUpdater.h   |  0
 .../{ => guilib}/PVRGUIChannelNavigator.cpp   |  2 +-
 .../pvr/{ => guilib}/PVRGUIChannelNavigator.h |  0
 .../{ => guilib}/PVRGUIProgressHandler.cpp    |  0
 xbmc/pvr/{ => guilib}/PVRGUIProgressHandler.h |  0
 xbmc/pvr/guilib/guiinfo/CMakeLists.txt        |  9 +++++
 xbmc/pvr/{ => guilib/guiinfo}/PVRGUIInfo.cpp  |  2 +-
 xbmc/pvr/{ => guilib/guiinfo}/PVRGUIInfo.h    |  4 +-
 .../{ => guilib/guiinfo}/PVRGUITimerInfo.cpp  |  0
 .../{ => guilib/guiinfo}/PVRGUITimerInfo.h    |  0
 .../{ => guilib/guiinfo}/PVRGUITimesInfo.cpp  |  0
 .../{ => guilib/guiinfo}/PVRGUITimesInfo.h    |  0
 xbmc/pvr/settings/CMakeLists.txt              |  5 +++
 xbmc/pvr/{ => settings}/PVRSettings.cpp       |  2 +-
 xbmc/pvr/{ => settings}/PVRSettings.h         |  0
 xbmc/pvr/timers/PVRTimers.h                   |  2 +-
 xbmc/pvr/windows/CMakeLists.txt               |  8 +---
 xbmc/pvr/windows/GUIWindowPVRBase.cpp         |  4 +-
 xbmc/pvr/windows/GUIWindowPVRChannels.cpp     |  2 +-
 xbmc/pvr/windows/GUIWindowPVRGuide.cpp        |  4 +-
 xbmc/pvr/windows/GUIWindowPVRRecordings.cpp   |  2 +-
 xbmc/pvr/windows/GUIWindowPVRRecordings.h     |  2 +-
 xbmc/pvr/windows/GUIWindowPVRSearch.cpp       |  2 +-
 xbmc/pvr/windows/GUIWindowPVRTimersBase.cpp   |  2 +-
 xbmc/windows/GUIWindowLoginScreen.cpp         |  2 +-
 60 files changed, 121 insertions(+), 105 deletions(-)
 create mode 100644 xbmc/pvr/filesystem/CMakeLists.txt
 rename xbmc/pvr/{ => filesystem}/PVRGUIDirectory.cpp (100%)
 rename xbmc/pvr/{ => filesystem}/PVRGUIDirectory.h (100%)
 create mode 100644 xbmc/pvr/guilib/CMakeLists.txt
 rename xbmc/pvr/{windows => guilib}/GUIEPGGridContainer.cpp (99%)
 rename xbmc/pvr/{windows => guilib}/GUIEPGGridContainer.dox (100%)
 rename xbmc/pvr/{windows => guilib}/GUIEPGGridContainer.h (100%)
 rename xbmc/pvr/{windows => guilib}/GUIEPGGridContainerModel.cpp (100%)
 rename xbmc/pvr/{windows => guilib}/GUIEPGGridContainerModel.h (100%)
 rename xbmc/pvr/{PVRActionListener.cpp => guilib/PVRGUIActionListener.cpp} (93%)
 rename xbmc/pvr/{PVRActionListener.h => guilib/PVRGUIActionListener.h} (75%)
 rename xbmc/pvr/{ => guilib}/PVRGUIActions.cpp (100%)
 rename xbmc/pvr/{ => guilib}/PVRGUIActions.h (99%)
 rename xbmc/pvr/{ => guilib}/PVRGUIChannelIconUpdater.cpp (98%)
 rename xbmc/pvr/{ => guilib}/PVRGUIChannelIconUpdater.h (100%)
 rename xbmc/pvr/{ => guilib}/PVRGUIChannelNavigator.cpp (99%)
 rename xbmc/pvr/{ => guilib}/PVRGUIChannelNavigator.h (100%)
 rename xbmc/pvr/{ => guilib}/PVRGUIProgressHandler.cpp (100%)
 rename xbmc/pvr/{ => guilib}/PVRGUIProgressHandler.h (100%)
 create mode 100644 xbmc/pvr/guilib/guiinfo/CMakeLists.txt
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUIInfo.cpp (99%)
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUIInfo.h (98%)
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUITimerInfo.cpp (100%)
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUITimerInfo.h (100%)
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUITimesInfo.cpp (100%)
 rename xbmc/pvr/{ => guilib/guiinfo}/PVRGUITimesInfo.h (100%)
 create mode 100644 xbmc/pvr/settings/CMakeLists.txt
 rename xbmc/pvr/{ => settings}/PVRSettings.cpp (99%)
 rename xbmc/pvr/{ => settings}/PVRSettings.h (100%)

diff --git a/cmake/treedata/common/pvr.txt b/cmake/treedata/common/pvr.txt
index decdabb5596b..74e766f2d0b1 100644
--- a/cmake/treedata/common/pvr.txt
+++ b/cmake/treedata/common/pvr.txt
@@ -1,8 +1,12 @@
-xbmc/pvr            pvr
-xbmc/pvr/addons     pvr/addons
-xbmc/pvr/channels   pvr/channels
-xbmc/pvr/dialogs    pvr/dialogs
-xbmc/pvr/epg        pvr/epg
-xbmc/pvr/recordings pvr/recordings
-xbmc/pvr/timers     pvr/timers
-xbmc/pvr/windows    pvr/windows
+xbmc/pvr                pvr
+xbmc/pvr/addons         pvr/addons
+xbmc/pvr/channels       pvr/channels
+xbmc/pvr/dialogs        pvr/dialogs
+xbmc/pvr/epg            pvr/epg
+xbmc/pvr/filesystem     pvr/filesystem
+xbmc/pvr/guilib         pvr/guilib
+xbmc/pvr/guilib/guiinfo pvr/guilib/guiinfo
+xbmc/pvr/recordings     pvr/recordings
+xbmc/pvr/settings       pvr/settings
+xbmc/pvr/timers         pvr/timers
+xbmc/pvr/windows        pvr/windows
diff --git a/xbmc/Application.cpp b/xbmc/Application.cpp
index 9e96108b7b67..92362ec92e32 100644
--- a/xbmc/Application.cpp
+++ b/xbmc/Application.cpp
@@ -130,8 +130,8 @@
 #include "addons/settings/GUIDialogAddonSettings.h"
 
 // PVR related include Files
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 
 #include "video/dialogs/GUIDialogFullScreenInfo.h"
 #include "dialogs/GUIDialogCache.h"
diff --git a/xbmc/filesystem/PVRDirectory.cpp b/xbmc/filesystem/PVRDirectory.cpp
index b4a5e889624d..915d3f76fb6b 100644
--- a/xbmc/filesystem/PVRDirectory.cpp
+++ b/xbmc/filesystem/PVRDirectory.cpp
@@ -8,7 +8,7 @@
 
 #include "PVRDirectory.h"
 
-#include "pvr/PVRGUIDirectory.h"
+#include "pvr/filesystem/PVRGUIDirectory.h"
 
 using namespace XFILE;
 using namespace PVR;
diff --git a/xbmc/guilib/GUIControlFactory.cpp b/xbmc/guilib/GUIControlFactory.cpp
index 00561765eaf0..93b49c015ddd 100644
--- a/xbmc/guilib/GUIControlFactory.cpp
+++ b/xbmc/guilib/GUIControlFactory.cpp
@@ -49,7 +49,7 @@
 #include "cores/RetroPlayer/guicontrols/GUIGameControl.h"
 #include "games/controllers/guicontrols/GUIGameController.h"
 #include "input/Key.h"
-#include "pvr/windows/GUIEPGGridContainer.h"
+#include "pvr/guilib/GUIEPGGridContainer.h"
 #include "utils/CharsetConverter.h"
 #include "utils/RssManager.h"
 #include "utils/StringUtils.h"
diff --git a/xbmc/input/WindowTranslator.cpp b/xbmc/input/WindowTranslator.cpp
index dfbd42c46e81..b035bd2f834e 100644
--- a/xbmc/input/WindowTranslator.cpp
+++ b/xbmc/input/WindowTranslator.cpp
@@ -11,8 +11,8 @@
 #include "Application.h"
 #include "ServiceBroker.h"
 #include "guilib/WindowIDs.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "utils/StringUtils.h"
 #include "utils/log.h"
 
diff --git a/xbmc/interfaces/builtins/PVRBuiltins.cpp b/xbmc/interfaces/builtins/PVRBuiltins.cpp
index a3cd8d57206f..311042e57e2e 100644
--- a/xbmc/interfaces/builtins/PVRBuiltins.cpp
+++ b/xbmc/interfaces/builtins/PVRBuiltins.cpp
@@ -14,8 +14,8 @@
 #include "guilib/GUIComponent.h"
 #include "guilib/GUIWindowManager.h"
 #include "guilib/guiinfo/GUIInfoLabels.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/windows/GUIWindowPVRGuide.h"
 #include "utils/log.h"
 
diff --git a/xbmc/interfaces/json-rpc/PVROperations.cpp b/xbmc/interfaces/json-rpc/PVROperations.cpp
index 28b3079d7580..883b286850a9 100644
--- a/xbmc/interfaces/json-rpc/PVROperations.cpp
+++ b/xbmc/interfaces/json-rpc/PVROperations.cpp
@@ -9,7 +9,6 @@
 #include "PVROperations.h"
 
 #include "ServiceBroker.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannel.h"
@@ -17,6 +16,7 @@
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/epg/Epg.h"
 #include "pvr/epg/EpgContainer.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/timers/PVRTimerInfoTag.h"
 #include "pvr/timers/PVRTimers.h"
diff --git a/xbmc/interfaces/json-rpc/PlayerOperations.cpp b/xbmc/interfaces/json-rpc/PlayerOperations.cpp
index 2dcb0d7b1e01..cd0745460764 100644
--- a/xbmc/interfaces/json-rpc/PlayerOperations.cpp
+++ b/xbmc/interfaces/json-rpc/PlayerOperations.cpp
@@ -26,12 +26,12 @@
 #include "messaging/ApplicationMessenger.h"
 #include "music/MusicDatabase.h"
 #include "pictures/GUIWindowSlideShow.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "settings/DisplaySettings.h"
 #include "utils/Variant.h"
diff --git a/xbmc/pvr/CMakeLists.txt b/xbmc/pvr/CMakeLists.txt
index 072a99735b45..d8c177630ab8 100644
--- a/xbmc/pvr/CMakeLists.txt
+++ b/xbmc/pvr/CMakeLists.txt
@@ -1,41 +1,21 @@
-set(SOURCES PVRActionListener.cpp
-            PVRGUIInfo.cpp
-            PVRManager.cpp
-            PVRDatabase.cpp
-            PVRSettings.cpp
+set(SOURCES PVRChannelNumberInputHandler.cpp
             PVRContextMenus.cpp
-            PVRGUIActions.cpp
-            PVRItem.cpp
-            PVRChannelNumberInputHandler.cpp
+            PVRDatabase.cpp
             PVREventLogJob.cpp
-            PVRGUIChannelIconUpdater.cpp
-            PVRGUIChannelNavigator.cpp
-            PVRGUIDirectory.cpp
-            PVRGUIProgressHandler.cpp
-            PVRGUITimerInfo.cpp
-            PVRGUITimesInfo.cpp
-            PVRStreamProperties.cpp
+            PVRItem.cpp
+            PVRManager.cpp
             PVRPlaybackState.cpp
+            PVRStreamProperties.cpp
             PVRThumbLoader.cpp)
 
-set(HEADERS PVRActionListener.h
-            PVRDatabase.h
-            PVRGUIInfo.h
-            PVRManager.h
-            PVRSettings.h
+set(HEADERS PVRChannelNumberInputHandler.h
             PVRContextMenus.h
-            PVRGUIActions.h
-            PVRItem.h
-            PVRChannelNumberInputHandler.h
+            PVRDatabase.h
             PVREventLogJob.h
-            PVRGUIChannelIconUpdater.h
-            PVRGUIChannelNavigator.h
-            PVRGUIDirectory.h
-            PVRGUIProgressHandler.h
-            PVRGUITimerInfo.h
-            PVRGUITimesInfo.h
-            PVRStreamProperties.h
+            PVRItem.h
+            PVRManager.h
             PVRPlaybackState.h
+            PVRStreamProperties.h
             PVRThumbLoader.h)
 
 core_add_library(pvr)
diff --git a/xbmc/pvr/PVRContextMenus.cpp b/xbmc/pvr/PVRContextMenus.cpp
index bdcd07201998..5168d8386fcd 100644
--- a/xbmc/pvr/PVRContextMenus.cpp
+++ b/xbmc/pvr/PVRContextMenus.cpp
@@ -11,12 +11,12 @@
 #include "ContextMenuItem.h"
 #include "ServiceBroker.h"
 #include "guilib/LocalizeStrings.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/addons/PVRClient.h"
 #include "pvr/addons/PVRClientMenuHooks.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecording.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/recordings/PVRRecordingsPath.h"
diff --git a/xbmc/pvr/PVRManager.cpp b/xbmc/pvr/PVRManager.cpp
index 2e6a6c3f1d30..42b5f71bd575 100644
--- a/xbmc/pvr/PVRManager.cpp
+++ b/xbmc/pvr/PVRManager.cpp
@@ -13,10 +13,6 @@
 #include "interfaces/AnnouncementManager.h"
 #include "messaging/ApplicationMessenger.h"
 #include "pvr/PVRDatabase.h"
-#include "pvr/PVRGUIActions.h"
-#include "pvr/PVRGUIChannelIconUpdater.h"
-#include "pvr/PVRGUIInfo.h"
-#include "pvr/PVRGUIProgressHandler.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/addons/PVRClient.h"
 #include "pvr/addons/PVRClients.h"
@@ -26,6 +22,10 @@
 #include "pvr/channels/PVRChannelGroups.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIActions.h"
+#include "pvr/guilib/PVRGUIChannelIconUpdater.h"
+#include "pvr/guilib/PVRGUIProgressHandler.h"
+#include "pvr/guilib/guiinfo/PVRGUIInfo.h"
 #include "pvr/recordings/PVRRecording.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/timers/PVRTimerInfoTag.h"
diff --git a/xbmc/pvr/PVRManager.h b/xbmc/pvr/PVRManager.h
index 31ca5b5e68aa..4f16cadb78a5 100644
--- a/xbmc/pvr/PVRManager.h
+++ b/xbmc/pvr/PVRManager.h
@@ -10,9 +10,9 @@
 
 #include "addons/kodi-addon-dev-kit/include/kodi/xbmc_pvr_types.h"
 #include "interfaces/IAnnouncer.h"
-#include "pvr/PVRActionListener.h"
-#include "pvr/PVRSettings.h"
 #include "pvr/epg/EpgContainer.h"
+#include "pvr/guilib/PVRGUIActionListener.h"
+#include "pvr/settings/PVRSettings.h"
 #include "threads/CriticalSection.h"
 #include "threads/Event.h"
 #include "threads/Thread.h"
@@ -432,7 +432,7 @@ namespace PVR
 
     std::shared_ptr<CPVRPlaybackState> m_playbackState;
 
-    CPVRActionListener m_actionListener;
+    CPVRGUIActionListener m_actionListener;
     CPVRSettings m_settings;
   };
 }
diff --git a/xbmc/pvr/PVRThumbLoader.cpp b/xbmc/pvr/PVRThumbLoader.cpp
index 7cfe3a0d0250..28306d4df3a7 100644
--- a/xbmc/pvr/PVRThumbLoader.cpp
+++ b/xbmc/pvr/PVRThumbLoader.cpp
@@ -13,7 +13,7 @@
 #include "TextureCache.h"
 #include "TextureCacheJob.h"
 #include "pictures/Picture.h"
-#include "pvr/PVRGUIDirectory.h"
+#include "pvr/filesystem/PVRGUIDirectory.h"
 #include "pvr/PVRManager.h"
 #include "settings/AdvancedSettings.h"
 #include "settings/Settings.h"
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRChannelManager.cpp b/xbmc/pvr/dialogs/GUIDialogPVRChannelManager.cpp
index ee431e86e20b..d7bb51fad68d 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRChannelManager.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRChannelManager.cpp
@@ -24,7 +24,6 @@
 #include "input/actions/ActionIDs.h"
 #include "messaging/helpers/DialogOKHelper.h"
 #include "profiles/ProfileManager.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/addons/PVRClient.h"
 #include "pvr/addons/PVRClients.h"
@@ -32,6 +31,7 @@
 #include "pvr/channels/PVRChannelGroup.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/dialogs/GUIDialogPVRGroupManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "storage/MediaManager.h"
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRChannelsOSD.cpp b/xbmc/pvr/dialogs/GUIDialogPVRChannelsOSD.cpp
index 7ddc2ba6c517..fbc99bc43d8c 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRChannelsOSD.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRChannelsOSD.cpp
@@ -16,7 +16,6 @@
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
 #include "messaging/ApplicationMessenger.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannel.h"
@@ -24,6 +23,7 @@
 #include "pvr/channels/PVRChannelGroups.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/epg/EpgContainer.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRGroupManager.cpp b/xbmc/pvr/dialogs/GUIDialogPVRGroupManager.cpp
index abef8c60e4e1..363ba45386ac 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRGroupManager.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRGroupManager.cpp
@@ -20,12 +20,12 @@
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
 #include "messaging/helpers//DialogOKHelper.h"
-#include "pvr/PVRGUIDirectory.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/channels/PVRChannelGroups.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
+#include "pvr/filesystem/PVRGUIDirectory.h"
 #include "utils/StringUtils.h"
 #include "utils/Variant.h"
 
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRGuideInfo.cpp b/xbmc/pvr/dialogs/GUIDialogPVRGuideInfo.cpp
index 014e1df9765f..0a47b3c649a2 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRGuideInfo.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRGuideInfo.cpp
@@ -11,10 +11,10 @@
 #include "FileItem.h"
 #include "ServiceBroker.h"
 #include "guilib/GUIMessage.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/addons/PVRClient.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/timers/PVRTimerInfoTag.h"
 #include "pvr/timers/PVRTimers.h"
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRItemsViewBase.cpp b/xbmc/pvr/dialogs/GUIDialogPVRItemsViewBase.cpp
index ae148f9ef4a6..636c15b4e349 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRItemsViewBase.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRItemsViewBase.cpp
@@ -14,8 +14,8 @@
 #include "dialogs/GUIDialogContextMenu.h"
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "view/ViewState.h"
 
 #include <utility>
diff --git a/xbmc/pvr/dialogs/GUIDialogPVRRecordingInfo.cpp b/xbmc/pvr/dialogs/GUIDialogPVRRecordingInfo.cpp
index 709c742804cd..9a1065cca006 100644
--- a/xbmc/pvr/dialogs/GUIDialogPVRRecordingInfo.cpp
+++ b/xbmc/pvr/dialogs/GUIDialogPVRRecordingInfo.cpp
@@ -11,8 +11,8 @@
 #include "FileItem.h"
 #include "ServiceBroker.h"
 #include "guilib/GUIMessage.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 
 using namespace PVR;
 
diff --git a/xbmc/pvr/epg/EpgContainer.cpp b/xbmc/pvr/epg/EpgContainer.cpp
index ba34740e48f8..de73f192c51f 100644
--- a/xbmc/pvr/epg/EpgContainer.cpp
+++ b/xbmc/pvr/epg/EpgContainer.cpp
@@ -10,13 +10,13 @@
 
 #include "ServiceBroker.h"
 #include "guilib/LocalizeStrings.h"
-#include "pvr/PVRGUIProgressHandler.h"
 #include "pvr/PVRManager.h"
 #include "pvr/epg/Epg.h"
 #include "pvr/epg/EpgChannelData.h"
 #include "pvr/epg/EpgContainer.h"
 #include "pvr/epg/EpgDatabase.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIProgressHandler.h"
 #include "settings/AdvancedSettings.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
diff --git a/xbmc/pvr/epg/EpgContainer.h b/xbmc/pvr/epg/EpgContainer.h
index fd10473b5fdd..9562b12ca7af 100644
--- a/xbmc/pvr/epg/EpgContainer.h
+++ b/xbmc/pvr/epg/EpgContainer.h
@@ -10,7 +10,7 @@
 
 #include "XBDateTime.h"
 #include "addons/kodi-addon-dev-kit/include/kodi/xbmc_pvr_types.h"
-#include "pvr/PVRSettings.h"
+#include "pvr/settings/PVRSettings.h"
 #include "threads/CriticalSection.h"
 #include "threads/Event.h"
 #include "threads/Thread.h"
diff --git a/xbmc/pvr/filesystem/CMakeLists.txt b/xbmc/pvr/filesystem/CMakeLists.txt
new file mode 100644
index 000000000000..823d7839befd
--- /dev/null
+++ b/xbmc/pvr/filesystem/CMakeLists.txt
@@ -0,0 +1,5 @@
+set(SOURCES PVRGUIDirectory.cpp)
+
+set(HEADERS PVRGUIDirectory.h)
+
+core_add_library(pvr_filesystem)
diff --git a/xbmc/pvr/PVRGUIDirectory.cpp b/xbmc/pvr/filesystem/PVRGUIDirectory.cpp
similarity index 100%
rename from xbmc/pvr/PVRGUIDirectory.cpp
rename to xbmc/pvr/filesystem/PVRGUIDirectory.cpp
diff --git a/xbmc/pvr/PVRGUIDirectory.h b/xbmc/pvr/filesystem/PVRGUIDirectory.h
similarity index 100%
rename from xbmc/pvr/PVRGUIDirectory.h
rename to xbmc/pvr/filesystem/PVRGUIDirectory.h
diff --git a/xbmc/pvr/guilib/CMakeLists.txt b/xbmc/pvr/guilib/CMakeLists.txt
new file mode 100644
index 000000000000..80e27d38b4eb
--- /dev/null
+++ b/xbmc/pvr/guilib/CMakeLists.txt
@@ -0,0 +1,17 @@
+set(SOURCES GUIEPGGridContainer.cpp
+            GUIEPGGridContainerModel.cpp
+            PVRGUIActionListener.cpp
+            PVRGUIActions.cpp
+            PVRGUIChannelIconUpdater.cpp
+            PVRGUIChannelNavigator.cpp
+            PVRGUIProgressHandler.cpp)
+
+set(HEADERS GUIEPGGridContainer.h
+            GUIEPGGridContainerModel.h
+            PVRGUIActionListener.h
+            PVRGUIActions.h
+            PVRGUIChannelIconUpdater.h
+            PVRGUIChannelNavigator.h
+            PVRGUIProgressHandler.h)
+
+core_add_library(pvr_guilib)
diff --git a/xbmc/pvr/windows/GUIEPGGridContainer.cpp b/xbmc/pvr/guilib/GUIEPGGridContainer.cpp
similarity index 99%
rename from xbmc/pvr/windows/GUIEPGGridContainer.cpp
rename to xbmc/pvr/guilib/GUIEPGGridContainer.cpp
index f635a0431e2c..7ce863b6b65e 100644
--- a/xbmc/pvr/windows/GUIEPGGridContainer.cpp
+++ b/xbmc/pvr/guilib/GUIEPGGridContainer.cpp
@@ -18,7 +18,7 @@
 #include "input/actions/ActionIDs.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/epg/EpgInfoTag.h"
-#include "pvr/windows/GUIEPGGridContainerModel.h"
+#include "pvr/guilib/GUIEPGGridContainerModel.h"
 #include "utils/MathUtils.h"
 #include "utils/StringUtils.h"
 #include "utils/Variant.h"
diff --git a/xbmc/pvr/windows/GUIEPGGridContainer.dox b/xbmc/pvr/guilib/GUIEPGGridContainer.dox
similarity index 100%
rename from xbmc/pvr/windows/GUIEPGGridContainer.dox
rename to xbmc/pvr/guilib/GUIEPGGridContainer.dox
diff --git a/xbmc/pvr/windows/GUIEPGGridContainer.h b/xbmc/pvr/guilib/GUIEPGGridContainer.h
similarity index 100%
rename from xbmc/pvr/windows/GUIEPGGridContainer.h
rename to xbmc/pvr/guilib/GUIEPGGridContainer.h
diff --git a/xbmc/pvr/windows/GUIEPGGridContainerModel.cpp b/xbmc/pvr/guilib/GUIEPGGridContainerModel.cpp
similarity index 100%
rename from xbmc/pvr/windows/GUIEPGGridContainerModel.cpp
rename to xbmc/pvr/guilib/GUIEPGGridContainerModel.cpp
diff --git a/xbmc/pvr/windows/GUIEPGGridContainerModel.h b/xbmc/pvr/guilib/GUIEPGGridContainerModel.h
similarity index 100%
rename from xbmc/pvr/windows/GUIEPGGridContainerModel.h
rename to xbmc/pvr/guilib/GUIEPGGridContainerModel.h
diff --git a/xbmc/pvr/PVRActionListener.cpp b/xbmc/pvr/guilib/PVRGUIActionListener.cpp
similarity index 93%
rename from xbmc/pvr/PVRActionListener.cpp
rename to xbmc/pvr/guilib/PVRGUIActionListener.cpp
index 3417310db3a5..9121a2316d69 100644
--- a/xbmc/pvr/PVRActionListener.cpp
+++ b/xbmc/pvr/guilib/PVRGUIActionListener.cpp
@@ -6,7 +6,7 @@
  *  See LICENSES/README.md for more information.
  */
 
-#include "PVRActionListener.h"
+#include "PVRGUIActionListener.h"
 
 #include "Application.h"
 #include "ServiceBroker.h"
@@ -17,7 +17,6 @@
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
 #include "messaging/ApplicationMessenger.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/addons/PVRClients.h"
@@ -25,6 +24,7 @@
 #include "pvr/channels/PVRChannelGroup.h"
 #include "pvr/channels/PVRChannelGroups.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "settings/lib/Setting.h"
@@ -35,7 +35,7 @@
 namespace PVR
 {
 
-CPVRActionListener::CPVRActionListener()
+CPVRGUIActionListener::CPVRGUIActionListener()
 {
   g_application.RegisterActionListener(this);
   CServiceBroker::GetSettingsComponent()->GetSettings()->RegisterCallback(this, {
@@ -52,23 +52,23 @@ CPVRActionListener::CPVRActionListener()
   });
 }
 
-CPVRActionListener::~CPVRActionListener()
+CPVRGUIActionListener::~CPVRGUIActionListener()
 {
   CServiceBroker::GetSettingsComponent()->GetSettings()->UnregisterCallback(this);
   g_application.UnregisterActionListener(this);
 }
 
-void CPVRActionListener::Init(CPVRManager& mgr)
+void CPVRGUIActionListener::Init(CPVRManager& mgr)
 {
-  mgr.Events().Subscribe(this, &CPVRActionListener::OnPVRManagerEvent);
+  mgr.Events().Subscribe(this, &CPVRGUIActionListener::OnPVRManagerEvent);
 }
 
-void CPVRActionListener::Deinit(CPVRManager& mgr)
+void CPVRGUIActionListener::Deinit(CPVRManager& mgr)
 {
   mgr.Events().Unsubscribe(this);
 }
 
-void CPVRActionListener::OnPVRManagerEvent(const PVREvent& event)
+void CPVRGUIActionListener::OnPVRManagerEvent(const PVREvent& event)
 {
   if (event == PVREvent::AnnounceReminder)
   {
@@ -79,7 +79,7 @@ void CPVRActionListener::OnPVRManagerEvent(const PVREvent& event)
   }
 }
 
-ChannelSwitchMode CPVRActionListener::GetChannelSwitchMode(int iAction)
+ChannelSwitchMode CPVRGUIActionListener::GetChannelSwitchMode(int iAction)
 {
   if ((iAction == ACTION_MOVE_UP || iAction == ACTION_MOVE_DOWN) &&
       CServiceBroker::GetSettingsComponent()->GetSettings()->GetBool(CSettings::SETTING_PVRPLAYBACK_CONFIRMCHANNELSWITCH))
@@ -88,7 +88,7 @@ ChannelSwitchMode CPVRActionListener::GetChannelSwitchMode(int iAction)
   return ChannelSwitchMode::INSTANT_OR_DELAYED_SWITCH;
 }
 
-bool CPVRActionListener::OnAction(const CAction& action)
+bool CPVRGUIActionListener::OnAction(const CAction& action)
 {
   bool bIsJumpSMS = false;
   bool bIsPlayingPVR = CServiceBroker::GetPVRManager().PlaybackState()->IsPlaying() &&
@@ -271,7 +271,7 @@ bool CPVRActionListener::OnAction(const CAction& action)
   return false;
 }
 
-void CPVRActionListener::OnSettingChanged(std::shared_ptr<const CSetting> setting)
+void CPVRGUIActionListener::OnSettingChanged(std::shared_ptr<const CSetting> setting)
 {
   if (setting == nullptr)
     return;
@@ -296,7 +296,7 @@ void CPVRActionListener::OnSettingChanged(std::shared_ptr<const CSetting> settin
   }
 }
 
-void CPVRActionListener::OnSettingAction(std::shared_ptr<const CSetting> setting)
+void CPVRGUIActionListener::OnSettingAction(std::shared_ptr<const CSetting> setting)
 {
   if (setting == nullptr)
     return;
diff --git a/xbmc/pvr/PVRActionListener.h b/xbmc/pvr/guilib/PVRGUIActionListener.h
similarity index 75%
rename from xbmc/pvr/PVRActionListener.h
rename to xbmc/pvr/guilib/PVRGUIActionListener.h
index 19ff1bc9cdcc..f84ee97d1b2d 100644
--- a/xbmc/pvr/PVRActionListener.h
+++ b/xbmc/pvr/guilib/PVRGUIActionListener.h
@@ -18,11 +18,11 @@ class CPVRManager;
 enum class ChannelSwitchMode;
 enum class PVREvent;
 
-class CPVRActionListener : public IActionListener, public ISettingCallback
+class CPVRGUIActionListener : public IActionListener, public ISettingCallback
 {
 public:
-  CPVRActionListener();
-  ~CPVRActionListener() override;
+  CPVRGUIActionListener();
+  ~CPVRGUIActionListener() override;
 
   void Init(CPVRManager& mgr);
   void Deinit(CPVRManager& mgr);
@@ -37,8 +37,8 @@ class CPVRActionListener : public IActionListener, public ISettingCallback
   void OnPVRManagerEvent(const PVREvent& event);
 
 private:
-  CPVRActionListener(const CPVRActionListener&) = delete;
-  CPVRActionListener& operator=(const CPVRActionListener&) = delete;
+  CPVRGUIActionListener(const CPVRGUIActionListener&) = delete;
+  CPVRGUIActionListener& operator=(const CPVRGUIActionListener&) = delete;
 
   static ChannelSwitchMode GetChannelSwitchMode(int iAction);
 };
diff --git a/xbmc/pvr/PVRGUIActions.cpp b/xbmc/pvr/guilib/PVRGUIActions.cpp
similarity index 100%
rename from xbmc/pvr/PVRGUIActions.cpp
rename to xbmc/pvr/guilib/PVRGUIActions.cpp
diff --git a/xbmc/pvr/PVRGUIActions.h b/xbmc/pvr/guilib/PVRGUIActions.h
similarity index 99%
rename from xbmc/pvr/PVRGUIActions.h
rename to xbmc/pvr/guilib/PVRGUIActions.h
index f2b72f112825..c4de9f48d5bd 100644
--- a/xbmc/pvr/PVRGUIActions.h
+++ b/xbmc/pvr/guilib/PVRGUIActions.h
@@ -9,8 +9,8 @@
 #pragma once
 
 #include "pvr/PVRChannelNumberInputHandler.h"
-#include "pvr/PVRGUIChannelNavigator.h"
-#include "pvr/PVRSettings.h"
+#include "pvr/guilib/PVRGUIChannelNavigator.h"
+#include "pvr/settings/PVRSettings.h"
 #include "threads/CriticalSection.h"
 
 #include <memory>
diff --git a/xbmc/pvr/PVRGUIChannelIconUpdater.cpp b/xbmc/pvr/guilib/PVRGUIChannelIconUpdater.cpp
similarity index 98%
rename from xbmc/pvr/PVRGUIChannelIconUpdater.cpp
rename to xbmc/pvr/guilib/PVRGUIChannelIconUpdater.cpp
index 533a7e97f3be..93599dcb336f 100644
--- a/xbmc/pvr/PVRGUIChannelIconUpdater.cpp
+++ b/xbmc/pvr/guilib/PVRGUIChannelIconUpdater.cpp
@@ -14,9 +14,9 @@
 #include "filesystem/Directory.h"
 #include "filesystem/File.h"
 #include "guilib/LocalizeStrings.h"
-#include "pvr/PVRGUIProgressHandler.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/channels/PVRChannelGroup.h"
+#include "pvr/guilib/PVRGUIProgressHandler.h"
 #include "settings/AdvancedSettings.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
diff --git a/xbmc/pvr/PVRGUIChannelIconUpdater.h b/xbmc/pvr/guilib/PVRGUIChannelIconUpdater.h
similarity index 100%
rename from xbmc/pvr/PVRGUIChannelIconUpdater.h
rename to xbmc/pvr/guilib/PVRGUIChannelIconUpdater.h
diff --git a/xbmc/pvr/PVRGUIChannelNavigator.cpp b/xbmc/pvr/guilib/PVRGUIChannelNavigator.cpp
similarity index 99%
rename from xbmc/pvr/PVRGUIChannelNavigator.cpp
rename to xbmc/pvr/guilib/PVRGUIChannelNavigator.cpp
index 689aae60c3bb..ea5e603e6325 100644
--- a/xbmc/pvr/PVRGUIChannelNavigator.cpp
+++ b/xbmc/pvr/guilib/PVRGUIChannelNavigator.cpp
@@ -12,10 +12,10 @@
 #include "GUIInfoManager.h"
 #include "ServiceBroker.h"
 #include "guilib/GUIComponent.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannelGroup.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "threads/SingleLock.h"
diff --git a/xbmc/pvr/PVRGUIChannelNavigator.h b/xbmc/pvr/guilib/PVRGUIChannelNavigator.h
similarity index 100%
rename from xbmc/pvr/PVRGUIChannelNavigator.h
rename to xbmc/pvr/guilib/PVRGUIChannelNavigator.h
diff --git a/xbmc/pvr/PVRGUIProgressHandler.cpp b/xbmc/pvr/guilib/PVRGUIProgressHandler.cpp
similarity index 100%
rename from xbmc/pvr/PVRGUIProgressHandler.cpp
rename to xbmc/pvr/guilib/PVRGUIProgressHandler.cpp
diff --git a/xbmc/pvr/PVRGUIProgressHandler.h b/xbmc/pvr/guilib/PVRGUIProgressHandler.h
similarity index 100%
rename from xbmc/pvr/PVRGUIProgressHandler.h
rename to xbmc/pvr/guilib/PVRGUIProgressHandler.h
diff --git a/xbmc/pvr/guilib/guiinfo/CMakeLists.txt b/xbmc/pvr/guilib/guiinfo/CMakeLists.txt
new file mode 100644
index 000000000000..18491ee94a9f
--- /dev/null
+++ b/xbmc/pvr/guilib/guiinfo/CMakeLists.txt
@@ -0,0 +1,9 @@
+set(SOURCES PVRGUIInfo.cpp
+            PVRGUITimerInfo.cpp
+            PVRGUITimesInfo.cpp)
+
+set(HEADERS PVRGUIInfo.h
+            PVRGUITimerInfo.h
+            PVRGUITimesInfo.h)
+
+core_add_library(pvr_guilib_guiinfo)
diff --git a/xbmc/pvr/PVRGUIInfo.cpp b/xbmc/pvr/guilib/guiinfo/PVRGUIInfo.cpp
similarity index 99%
rename from xbmc/pvr/PVRGUIInfo.cpp
rename to xbmc/pvr/guilib/guiinfo/PVRGUIInfo.cpp
index 87fd7ab3e48f..4e564ad16e7a 100644
--- a/xbmc/pvr/PVRGUIInfo.cpp
+++ b/xbmc/pvr/guilib/guiinfo/PVRGUIInfo.cpp
@@ -16,7 +16,6 @@
 #include "guilib/LocalizeStrings.h"
 #include "guilib/guiinfo/GUIInfo.h"
 #include "guilib/guiinfo/GUIInfoLabels.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRItem.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
@@ -27,6 +26,7 @@
 #include "pvr/channels/PVRChannelGroupsContainer.h"
 #include "pvr/channels/PVRRadioRDSInfoTag.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecording.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/timers/PVRTimerInfoTag.h"
diff --git a/xbmc/pvr/PVRGUIInfo.h b/xbmc/pvr/guilib/guiinfo/PVRGUIInfo.h
similarity index 98%
rename from xbmc/pvr/PVRGUIInfo.h
rename to xbmc/pvr/guilib/guiinfo/PVRGUIInfo.h
index 7bebcdfe505a..43c362752d38 100644
--- a/xbmc/pvr/PVRGUIInfo.h
+++ b/xbmc/pvr/guilib/guiinfo/PVRGUIInfo.h
@@ -10,9 +10,9 @@
 
 #include "addons/kodi-addon-dev-kit/include/kodi/xbmc_pvr_types.h"
 #include "guilib/guiinfo/GUIInfoProvider.h"
-#include "pvr/PVRGUITimerInfo.h"
-#include "pvr/PVRGUITimesInfo.h"
 #include "pvr/addons/PVRClients.h"
+#include "pvr/guilib/guiinfo/PVRGUITimerInfo.h"
+#include "pvr/guilib/guiinfo/PVRGUITimesInfo.h"
 #include "threads/CriticalSection.h"
 #include "threads/Thread.h"
 
diff --git a/xbmc/pvr/PVRGUITimerInfo.cpp b/xbmc/pvr/guilib/guiinfo/PVRGUITimerInfo.cpp
similarity index 100%
rename from xbmc/pvr/PVRGUITimerInfo.cpp
rename to xbmc/pvr/guilib/guiinfo/PVRGUITimerInfo.cpp
diff --git a/xbmc/pvr/PVRGUITimerInfo.h b/xbmc/pvr/guilib/guiinfo/PVRGUITimerInfo.h
similarity index 100%
rename from xbmc/pvr/PVRGUITimerInfo.h
rename to xbmc/pvr/guilib/guiinfo/PVRGUITimerInfo.h
diff --git a/xbmc/pvr/PVRGUITimesInfo.cpp b/xbmc/pvr/guilib/guiinfo/PVRGUITimesInfo.cpp
similarity index 100%
rename from xbmc/pvr/PVRGUITimesInfo.cpp
rename to xbmc/pvr/guilib/guiinfo/PVRGUITimesInfo.cpp
diff --git a/xbmc/pvr/PVRGUITimesInfo.h b/xbmc/pvr/guilib/guiinfo/PVRGUITimesInfo.h
similarity index 100%
rename from xbmc/pvr/PVRGUITimesInfo.h
rename to xbmc/pvr/guilib/guiinfo/PVRGUITimesInfo.h
diff --git a/xbmc/pvr/settings/CMakeLists.txt b/xbmc/pvr/settings/CMakeLists.txt
new file mode 100644
index 000000000000..6b32503a69e8
--- /dev/null
+++ b/xbmc/pvr/settings/CMakeLists.txt
@@ -0,0 +1,5 @@
+set(SOURCES PVRSettings.cpp)
+
+set(HEADERS PVRSettings.h)
+
+core_add_library(pvr_settings)
diff --git a/xbmc/pvr/PVRSettings.cpp b/xbmc/pvr/settings/PVRSettings.cpp
similarity index 99%
rename from xbmc/pvr/PVRSettings.cpp
rename to xbmc/pvr/settings/PVRSettings.cpp
index 0297537f85cb..0c957c112f4c 100644
--- a/xbmc/pvr/PVRSettings.cpp
+++ b/xbmc/pvr/settings/PVRSettings.cpp
@@ -10,9 +10,9 @@
 
 #include "ServiceBroker.h"
 #include "guilib/LocalizeStrings.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/addons/PVRClients.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "settings/lib/SettingsManager.h"
diff --git a/xbmc/pvr/PVRSettings.h b/xbmc/pvr/settings/PVRSettings.h
similarity index 100%
rename from xbmc/pvr/PVRSettings.h
rename to xbmc/pvr/settings/PVRSettings.h
diff --git a/xbmc/pvr/timers/PVRTimers.h b/xbmc/pvr/timers/PVRTimers.h
index 03f8385d0c14..8e4a6a16aded 100644
--- a/xbmc/pvr/timers/PVRTimers.h
+++ b/xbmc/pvr/timers/PVRTimers.h
@@ -9,7 +9,7 @@
 #pragma once
 
 #include "XBDateTime.h"
-#include "pvr/PVRSettings.h"
+#include "pvr/settings/PVRSettings.h"
 #include "threads/Thread.h"
 
 #include <map>
diff --git a/xbmc/pvr/windows/CMakeLists.txt b/xbmc/pvr/windows/CMakeLists.txt
index a4d94ebeeee5..9f5097ea720a 100644
--- a/xbmc/pvr/windows/CMakeLists.txt
+++ b/xbmc/pvr/windows/CMakeLists.txt
@@ -6,9 +6,7 @@ set(SOURCES GUIViewStatePVR.cpp
             GUIWindowPVRSearch.cpp
             GUIWindowPVRTimers.cpp
             GUIWindowPVRTimersBase.cpp
-            GUIWindowPVRTimerRules.cpp
-            GUIEPGGridContainer.cpp
-            GUIEPGGridContainerModel.cpp)
+            GUIWindowPVRTimerRules.cpp)
 
 set(HEADERS GUIViewStatePVR.h
             GUIWindowPVRBase.h
@@ -18,8 +16,6 @@ set(HEADERS GUIViewStatePVR.h
             GUIWindowPVRSearch.h
             GUIWindowPVRTimerRules.h
             GUIWindowPVRTimers.h
-            GUIWindowPVRTimersBase.h
-            GUIEPGGridContainer.h
-            GUIEPGGridContainerModel.h)
+            GUIWindowPVRTimersBase.h)
 
 core_add_library(pvr_windows)
diff --git a/xbmc/pvr/windows/GUIWindowPVRBase.cpp b/xbmc/pvr/windows/GUIWindowPVRBase.cpp
index b7a8495a212f..5800f9d2c3d2 100644
--- a/xbmc/pvr/windows/GUIWindowPVRBase.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRBase.cpp
@@ -22,13 +22,13 @@
 #include "input/actions/ActionIDs.h"
 #include "messaging/ApplicationMessenger.h"
 #include "messaging/helpers/DialogOKHelper.h"
-#include "pvr/PVRGUIActions.h"
-#include "pvr/PVRGUIDirectory.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannelGroup.h"
 #include "pvr/channels/PVRChannelGroups.h"
 #include "pvr/channels/PVRChannelGroupsContainer.h"
+#include "pvr/filesystem/PVRGUIDirectory.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "utils/Variant.h"
 #include "utils/log.h"
 
diff --git a/xbmc/pvr/windows/GUIWindowPVRChannels.cpp b/xbmc/pvr/windows/GUIWindowPVRChannels.cpp
index 755b51a03d2c..bb188117b682 100644
--- a/xbmc/pvr/windows/GUIWindowPVRChannels.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRChannels.cpp
@@ -22,7 +22,6 @@
 #include "guilib/LocalizeStrings.h"
 #include "input/Key.h"
 #include "input/actions/Action.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/channels/PVRChannel.h"
 #include "pvr/channels/PVRChannelGroup.h"
@@ -32,6 +31,7 @@
 #include "pvr/dialogs/GUIDialogPVRGroupManager.h"
 #include "pvr/epg/Epg.h"
 #include "pvr/epg/EpgContainer.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "threads/SingleLock.h"
 #include "utils/StringUtils.h"
 #include "utils/Variant.h"
diff --git a/xbmc/pvr/windows/GUIWindowPVRGuide.cpp b/xbmc/pvr/windows/GUIWindowPVRGuide.cpp
index 0e20fddf4965..f0b51ea413ba 100644
--- a/xbmc/pvr/windows/GUIWindowPVRGuide.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRGuide.cpp
@@ -22,7 +22,6 @@
 #include "input/actions/ActionIDs.h"
 #include "messaging/ApplicationMessenger.h"
 #include "messaging/helpers/DialogHelper.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
 #include "pvr/PVRPlaybackState.h"
 #include "pvr/channels/PVRChannel.h"
@@ -31,9 +30,10 @@
 #include "pvr/epg/EpgChannelData.h"
 #include "pvr/epg/EpgContainer.h"
 #include "pvr/epg/EpgInfoTag.h"
+#include "pvr/guilib/GUIEPGGridContainer.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/timers/PVRTimers.h"
-#include "pvr/windows/GUIEPGGridContainer.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "threads/SingleLock.h"
diff --git a/xbmc/pvr/windows/GUIWindowPVRRecordings.cpp b/xbmc/pvr/windows/GUIWindowPVRRecordings.cpp
index 1e4f0733a181..86a6560d0479 100644
--- a/xbmc/pvr/windows/GUIWindowPVRRecordings.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRRecordings.cpp
@@ -17,8 +17,8 @@
 #include "guilib/LocalizeStrings.h"
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecording.h"
 #include "pvr/recordings/PVRRecordings.h"
 #include "pvr/recordings/PVRRecordingsPath.h"
diff --git a/xbmc/pvr/windows/GUIWindowPVRRecordings.h b/xbmc/pvr/windows/GUIWindowPVRRecordings.h
index fdb4657116f2..b432123acf24 100644
--- a/xbmc/pvr/windows/GUIWindowPVRRecordings.h
+++ b/xbmc/pvr/windows/GUIWindowPVRRecordings.h
@@ -9,7 +9,7 @@
 #pragma once
 
 #include "dialogs/GUIDialogContextMenu.h"
-#include "pvr/PVRSettings.h"
+#include "pvr/settings/PVRSettings.h"
 #include "pvr/windows/GUIWindowPVRBase.h"
 #include "video/VideoDatabase.h"
 #include "video/VideoThumbLoader.h"
diff --git a/xbmc/pvr/windows/GUIWindowPVRSearch.cpp b/xbmc/pvr/windows/GUIWindowPVRSearch.cpp
index 83ae4f2c4a3a..3b02ecec044a 100644
--- a/xbmc/pvr/windows/GUIWindowPVRSearch.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRSearch.cpp
@@ -17,13 +17,13 @@
 #include "guilib/LocalizeStrings.h"
 #include "input/actions/ActionIDs.h"
 #include "messaging/helpers/DialogOKHelper.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRItem.h"
 #include "pvr/PVRManager.h"
 #include "pvr/dialogs/GUIDialogPVRGuideSearch.h"
 #include "pvr/epg/EpgContainer.h"
 #include "pvr/epg/EpgInfoTag.h"
 #include "pvr/epg/EpgSearchFilter.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/recordings/PVRRecording.h"
 #include "threads/IRunnable.h"
 #include "utils/URIUtils.h"
diff --git a/xbmc/pvr/windows/GUIWindowPVRTimersBase.cpp b/xbmc/pvr/windows/GUIWindowPVRTimersBase.cpp
index 43869b72f3a2..c129316cbb33 100644
--- a/xbmc/pvr/windows/GUIWindowPVRTimersBase.cpp
+++ b/xbmc/pvr/windows/GUIWindowPVRTimersBase.cpp
@@ -15,8 +15,8 @@
 #include "guilib/GUIMessage.h"
 #include "input/actions/Action.h"
 #include "input/actions/ActionIDs.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "pvr/timers/PVRTimerInfoTag.h"
 #include "pvr/timers/PVRTimersPath.h"
 #include "settings/Settings.h"
diff --git a/xbmc/windows/GUIWindowLoginScreen.cpp b/xbmc/windows/GUIWindowLoginScreen.cpp
index 1e34d44bff8d..db27d59869e9 100644
--- a/xbmc/windows/GUIWindowLoginScreen.cpp
+++ b/xbmc/windows/GUIWindowLoginScreen.cpp
@@ -24,8 +24,8 @@
 #include "profiles/Profile.h"
 #include "profiles/ProfileManager.h"
 #include "profiles/dialogs/GUIDialogProfileSettings.h"
-#include "pvr/PVRGUIActions.h"
 #include "pvr/PVRManager.h"
+#include "pvr/guilib/PVRGUIActions.h"
 #include "settings/Settings.h"
 #include "settings/SettingsComponent.h"
 #include "utils/StringUtils.h"
