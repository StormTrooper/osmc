From d24f08bac393530e6465b0ab4f02d8bb521dd36c Mon Sep 17 00:00:00 2001
From: ronie <ronie@kodi.tv>
Date: Thu, 3 Oct 2019 12:29:21 +0200
Subject: [PATCH] System.HasAddon() - return true for disabled addons

---
 xbmc/GUIInfoManager.cpp               | 1 +
 xbmc/guilib/guiinfo/AddonsGUIInfo.cpp | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/xbmc/GUIInfoManager.cpp b/xbmc/GUIInfoManager.cpp
index beb4df13c18d..dcbbb468cf1d 100644
--- a/xbmc/GUIInfoManager.cpp
+++ b/xbmc/GUIInfoManager.cpp
@@ -1704,6 +1704,7 @@ const infomap system_labels[] =  {{ "hasnetwork",       SYSTEM_ETHERNET_LINK_ACT
 ///                  _boolean_,
 ///     @return **True** if the specified addon is installed on the system.
 ///     @param id - the addon id
+///     @skinning_v19 **[Boolean Condition Updated]** \link System_HasAddon `System.HasAddon(id)`\endlink
 ///     <p>
 ///   }
 ///   \table_row3{   <b>`System.AddonIsEnabled(id)`</b>,
diff --git a/xbmc/guilib/guiinfo/AddonsGUIInfo.cpp b/xbmc/guilib/guiinfo/AddonsGUIInfo.cpp
index 611078098113..f4c610907fb2 100644
--- a/xbmc/guilib/guiinfo/AddonsGUIInfo.cpp
+++ b/xbmc/guilib/guiinfo/AddonsGUIInfo.cpp
@@ -165,7 +165,7 @@ bool CAddonsGUIInfo::GetBool(bool& value, const CGUIListItem *gitem, int context
     case SYSTEM_HAS_ADDON:
     {
       ADDON::AddonPtr addon;
-      value = CServiceBroker::GetAddonMgr().GetAddon(info.GetData3(), addon) && addon;
+      value = CServiceBroker::GetAddonMgr().IsAddonInstalled(info.GetData3());
       return true;
     }
     case SYSTEM_ADDON_IS_ENABLED:
