From f05b7124fa153957c6ca8284ddf31d63babf7b32 Mon Sep 17 00:00:00 2001
From: Kai Sommerfeld <kai.sommerfeld@gmx.com>
Date: Sat, 28 Sep 2019 14:48:20 +0200
Subject: [PATCH] [guiinfo][pvr][Estuary] Rename Listitem.IsPremiere to
 Listitem.IsNew.

---
 addons/skin.estuary/xml/Includes_PVR.xml |  8 ++++----
 addons/skin.estuary/xml/Variables.xml    |  2 +-
 xbmc/GUIInfoManager.cpp                  | 10 +++++-----
 xbmc/guilib/guiinfo/GUIInfoLabels.h      |  2 +-
 xbmc/pvr/PVRGUIInfo.cpp                  |  2 +-
 5 files changed, 12 insertions(+), 12 deletions(-)

diff --git a/addons/skin.estuary/xml/Includes_PVR.xml b/addons/skin.estuary/xml/Includes_PVR.xml
index bbe54bfc5311..1ce836b3739e 100644
--- a/addons/skin.estuary/xml/Includes_PVR.xml
+++ b/addons/skin.estuary/xml/Includes_PVR.xml
@@ -461,7 +461,7 @@
 						<label>$INFO[ListItem.Label]</label>
 					</control>
 					<control type="image">
-						<visible>ListItem.IsPremiere</visible>
+						<visible>ListItem.IsNew</visible>
 						<left>6</left>
 						<top>35</top>
 						<width>16</width>
@@ -475,7 +475,7 @@
 						<width>16</width>
 						<height>16</height>
 						<texture>$VAR[PVRTimerIcon]</texture>
-						<animation effect="slide" start="0,0" end="19,0" condition="ListItem.IsPremiere">Conditional</animation>
+						<animation effect="slide" start="0,0" end="19,0" condition="ListItem.IsNew">Conditional</animation>
 					</control>
 				</itemlayout>
 				<focusedlayout height="62" width="60">
@@ -508,7 +508,7 @@
 						<label>$INFO[ListItem.Label]</label>
 					</control>
 					<control type="image">
-						<visible>ListItem.IsPremiere</visible>
+						<visible>ListItem.IsNew</visible>
 						<left>6</left>
 						<top>35</top>
 						<width>16</width>
@@ -522,7 +522,7 @@
 						<width>16</width>
 						<height>16</height>
 						<texture>$VAR[PVRTimerIcon]</texture>
-						<animation effect="slide" start="0,0" end="19,0" condition="ListItem.IsPremiere">Conditional</animation>
+						<animation effect="slide" start="0,0" end="19,0" condition="ListItem.IsNew">Conditional</animation>
 					</control>
 				</focusedlayout>
 			</control>
diff --git a/addons/skin.estuary/xml/Variables.xml b/addons/skin.estuary/xml/Variables.xml
index 510c269316ff..17452d82dfd9 100644
--- a/addons/skin.estuary/xml/Variables.xml
+++ b/addons/skin.estuary/xml/Variables.xml
@@ -462,7 +462,7 @@
 		<value>$INFO[ListItem.Season,S]$INFO[ListItem.Episode,E,: ]</value>
 	</variable>
 	<variable name="PremieredLabel">
-		<value condition="!String.IsEmpty(ListItem.Premiered) + ListItem.IsPremiere">[COLOR grey]$LOCALIZE[20416]:[/COLOR] $INFO[ListItem.Premiered] [B]([COLOR button_focus]$LOCALIZE[842][/COLOR])[/B][CR]</value>
+		<value condition="!String.IsEmpty(ListItem.Premiered) + ListItem.IsNew">[COLOR grey]$LOCALIZE[20416]:[/COLOR] $INFO[ListItem.Premiered] [B]([COLOR button_focus]$LOCALIZE[842][/COLOR])[/B][CR]</value>
 		<value>$INFO[ListItem.Premiered,[COLOR grey]$LOCALIZE[20416]:[/COLOR] ,[CR]]</value>
 	</variable>
 	<variable name="ExpirationDateTimeLabel">
diff --git a/xbmc/GUIInfoManager.cpp b/xbmc/GUIInfoManager.cpp
index 6f98a18acbf5..beb4df13c18d 100644
--- a/xbmc/GUIInfoManager.cpp
+++ b/xbmc/GUIInfoManager.cpp
@@ -5727,12 +5727,12 @@ const infomap container_str[]  = {{ "property",         CONTAINER_PROPERTY },
 ///     @skinning_v19 **[New Infolabel]** \link ListItem_CurrentItem `ListItem.CurrentItem`\endlink
 ///     <p>
 ///   }
-///   \table_row3{   <b>`ListItem.IsPremiere`</b>,
-///                  \anchor ListItem_IsPremiere
+///   \table_row3{   <b>`ListItem.IsNew`</b>,
+///                  \anchor ListItem_IsNew
 ///                  _boolean_,
-///     @return **True** if the item is a premiere (for example, a Live TV show that will be first aired).
+///     @return **True** if the item is new (for example, a Live TV show that will be first aired).
 ///     <p><hr>
-///     @skinning_v19 **[New Infolabel]** \link ListItem_IsPremiere `ListItem.IsPremiere`\endlink
+///     @skinning_v19 **[New Infolabel]** \link ListItem_IsNew `ListItem.IsNew`\endlink
 ///     <p>
 ///   }
 /// \table_end
@@ -5927,7 +5927,7 @@ const infomap listitem_labels[]= {{ "thumb",            LISTITEM_THUMB },
                                   { "property",         LISTITEM_PROPERTY },
                                   { "parentalrating",   LISTITEM_PARENTAL_RATING },
                                   { "currentitem",      LISTITEM_CURRENTITEM },
-                                  { "ispremiere",       LISTITEM_IS_PREMIERE },
+                                  { "isnew",            LISTITEM_IS_NEW },
 };
 
 /// \page modules__infolabels_boolean_conditions
diff --git a/xbmc/guilib/guiinfo/GUIInfoLabels.h b/xbmc/guilib/guiinfo/GUIInfoLabels.h
index a62d142c7613..62b3f8ce1f67 100644
--- a/xbmc/guilib/guiinfo/GUIInfoLabels.h
+++ b/xbmc/guilib/guiinfo/GUIInfoLabels.h
@@ -883,7 +883,7 @@
 #define LISTITEM_ISPLAYABLE         (LISTITEM_START + 186)
 #define LISTITEM_FILENAME_NO_EXTENSION (LISTITEM_START + 187)
 #define LISTITEM_CURRENTITEM        (LISTITEM_START + 188)
-#define LISTITEM_IS_PREMIERE        (LISTITEM_START + 189)
+#define LISTITEM_IS_NEW             (LISTITEM_START + 189)
 
 #define LISTITEM_END                (LISTITEM_START + 2500)
 
diff --git a/xbmc/pvr/PVRGUIInfo.cpp b/xbmc/pvr/PVRGUIInfo.cpp
index bbf0a7a3b3d0..7ab3062b562f 100644
--- a/xbmc/pvr/PVRGUIInfo.cpp
+++ b/xbmc/pvr/PVRGUIInfo.cpp
@@ -1242,7 +1242,7 @@ bool CPVRGUIInfo::GetListItemAndPlayerBool(const CFileItem* item, const CGUIInfo
         return true;
       }
       break;
-    case LISTITEM_IS_PREMIERE:
+    case LISTITEM_IS_NEW:
       if (item->IsEPG())
       {
         const std::shared_ptr<CPVREpgInfoTag> epgTag = item->GetEPGInfoTag();
