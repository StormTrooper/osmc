From 3c761e1bda55a494782976fce4f045af1bf0b028 Mon Sep 17 00:00:00 2001
From: Rechi <Rechi@users.noreply.github.com>
Date: Thu, 23 Jan 2020 00:51:48 +0300
Subject: [PATCH] [cmake] fix optional platform dependencies for X11 GLES

GLX and VDPAU are only compatible with GL
---
 cmake/platform/linux/x11.cmake | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/cmake/platform/linux/x11.cmake b/cmake/platform/linux/x11.cmake
index c661721b73a8..5d7f3d4039f0 100644
--- a/cmake/platform/linux/x11.cmake
+++ b/cmake/platform/linux/x11.cmake
@@ -1,10 +1,11 @@
 set(PLATFORM_REQUIRED_DEPS EGL X XRandR LibDRM)
-set(PLATFORM_OPTIONAL_DEPS VAAPI VDPAU GLX)
+set(PLATFORM_OPTIONAL_DEPS VAAPI)
 
 set(X11_RENDER_SYSTEM "" CACHE STRING "Render system to use with X11: \"gl\" or \"gles\"")
 
 if(X11_RENDER_SYSTEM STREQUAL "gl")
   list(APPEND PLATFORM_REQUIRED_DEPS OpenGl)
+  list(APPEND PLATFORM_OPTIONAL_DEPS GLX VDPAU)
   set(APP_RENDER_SYSTEM gl)
 elseif(X11_RENDER_SYSTEM STREQUAL "gles")
   list(APPEND PLATFORM_REQUIRED_DEPS OpenGLES)
